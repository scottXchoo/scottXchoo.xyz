---
emoji: π–¥οΈ
title: π–¥οΈ [μ΄μμ²΄μ ] μΈν„°λ½νΈ(Interrupt) & DMA(Direct Memory Access)λ€?
date: '2023-11-08 09:00:00'
author: μ¶”κµν„
tags: μ΄μμ²΄μ 
categories: π–¥οΈCS
---

CPUκ°€ μμ›μ„ ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ” μΈν„°λ½νΈμ™€ μΈν„°λ½νΈ μ¤λ²„ν—¤λ“λ¥Ό ν•΄κ²°ν•κ³ μ λ“±μ¥ν• DMA λ°©μ‹μ— λ€ν•΄μ„ μ•μ•„λ³΄κ² μµλ‹λ‹¤.@

---

## μΈν„°λ½νΈλ€?

μΈν„°λ½νΈλ” CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„ λ•, I/O λ””λ°”μ΄μ¤ λ“±μ μ¥μΉμ—μ„ μ²λ¦¬κ°€ ν•„μ”ν• κ²½μ°μ— CPUμ—κ² μ΄λ¥Ό μ•λ ¤ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κΈ°λ¥μ…λ‹λ‹¤. μΈν„°λ½νΈλ¥Ό λ°›μ€ CPUλ” ν„μ¬ μ²λ¦¬ μ¤‘μΈ μ‘μ—…μ„ μ¤‘λ‹¨ν•κ³ , κΈ΄κΈ‰ν•κ² μ²λ¦¬ν•΄μ•Ό ν•  μ‘μ—…μ— λ€μ‘ν•  μ μμΌλ©° ν•΄λ‹Ή μ‘μ—…μ„ μ²λ¦¬ν•λ©΄ μ›λ μ‘μ—…μΌλ΅ λ³µκ·€ν•©λ‹λ‹¤.

μ΄λ” μ‹μ¤ν… μμ›μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•  μ μκ² ν•΄μ£Όλ” μ΄μμ²΄μ μ ν•µμ‹¬ κΈ°λ¥μ…λ‹λ‹¤.

## μΈν„°λ½νΈ λ°μƒ κ³Όμ •

![CS-OS-004-1.png](CS-OS-004-1.png)

1. **μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ(IRQ: Interrupt Request)**:
   μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄, μ¥μΉλ‚ μ†ν”„νΈμ›¨μ–΄μ—μ„ IRQλ¥Ό λ°μƒμ‹ν‚µλ‹λ‹¤.
2. **μΈν„°λ½νΈ μΈμ‹κ³Ό μ²λ¦¬**:
   CPUλ” ν„μ¬ μ‘μ—…μ„ λ§μΉ ν›„, μΈν„°λ½νΈ μ”μ²­μ„ ν™•μΈν•κ³  μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•  μ„λΉ„μ¤ λ£¨ν‹΄μ μ£Όμ†λ¥Ό μ°Ύμµλ‹λ‹¤.
3. **μ»¨ν…μ¤νΈ μ¤μ„μΉ**:
   CPUλ” ν„μ¬ μ‘μ—…μ μƒνƒ(μ»¨ν…μ¤νΈ)λ¥Ό μ €μ¥ν•κ³  μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ μ‹¤ν–‰μ„ μ„ν•΄ ν•„μ”ν• μƒλ΅μ΄ μ»¨ν…μ¤νΈλ΅ μ „ν™ν•©λ‹λ‹¤.
4. **μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR) μ‹¤ν–‰**:
   ISRμ΄ μ‹¤ν–‰λμ–΄ ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•©λ‹λ‹¤.
5. **μ‘μ—… μ¬κ°**:
   μΈν„°λ½νΈκ°€ μ²λ¦¬λλ©΄, CPUλ” μ €μ¥λ μ»¨ν…μ¤νΈλ¥Ό λ³µμ›ν•κ³  μ¤‘λ‹¨λμ—λ μ‘μ—…μ„ κ³„μ†ν•©λ‹λ‹¤.

## μΈν„°λ½νΈ μΆ…λ¥

- **μ™Έλ¶€ μΈν„°λ½νΈ**:
  μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ° μ¥μΉ, μ „μ› λ“± ν•λ“μ›¨μ–΄μ— μν•΄ λ°μƒν•λ” μΈν„°λ½νΈ
- **λ‚΄λ¶€ μΈν„°λ½νΈ**:
  Trap μ΄λΌκ³  λ¶€λ¥΄λ©°, μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ• λ°μƒν•λ” μΈν„°λ½νΈ (Ex. 0μΌλ΅ λ‚λ„κΈ° λ°μƒ, μ¤λ²„ν”λ΅μ° λ“±)
- **μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ**:
  ν”„λ΅κ·Έλ¨ μ²λ¦¬ μ¤‘ λ…λ Ήμ μ”μ²­μ— μν•΄ λ°μƒν• μΈν„°λ½νΈ

## μΈν„°λ½νΈ νΉμ§• (vs ν΄λ§)

ν΄λ§(Polling)μ€ CPUκ°€ μ£ΌκΈ°μ μΌλ΅ ν•λ“μ›¨μ–΄ μ¥μΉλ¥Ό μ²΄ν¬ν•μ—¬ μ‘μ—…μ΄ ν•„μ”ν•μ§€λ¥Ό ν™•μΈν•λ” λ°©λ²•μ…λ‹λ‹¤. ν΄λ§ λ€λΉ„ μΈν„°λ½νΈκ°€ κ°–κ³  μλ” νΉμ§•μ΄ λ¬΄μ—‡μΈμ§€ μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.

- **λΉ„λ™κΈ° μ²λ¦¬**:
  μΈν„°λ½νΈλ” λΉ„λ™κΈ°μ μΌλ΅ μ΄λ²¤νΈλ¥Ό μ²λ¦¬ν•λ―€λ΅, CPUλ” λ¶ν•„μ”ν• ν΄λ§ μ—†μ΄ λ‹¤λ¥Έ μ‘μ—…μ„ μν–‰ν•  μ μμµλ‹λ‹¤.
- **μμ› μ‚¬μ© μµμ ν™”**:
  ν΄λ§μ€ μ£ΌκΈ°μ μΈ μ²΄ν¬λ΅ CPU μ‹κ°„μ„ λ‚­λΉ„ν•μ§€λ§, μΈν„°λ½νΈλ” μ΄λ²¤νΈκ°€ μ‹¤μ λ΅ λ°μƒν–μ„ λ•λ§ CPU μμ›μ„ μ‚¬μ©ν•©λ‹λ‹¤.
- **μ‹¤μ‹κ°„ λ€μ‘ κ°€λ¥**:
  μΈν„°λ½νΈλ” μ΄λ²¤νΈ λ°μƒ μ¦‰μ‹ λ€μ‘ν•κΈ° λ•λ¬Έμ—, μ‹μ¤ν…μ λ°μ‘ μ‹κ°„μ„ μµμ†ν™”ν•©λ‹λ‹¤.

μΈν„°λ½νΈ κΈ°λ°μ μ‹μ¤ν…μ€ ν΄λ§ λ°©μ‹μ΄ κ°€μ§„ ν•κ³„λ¥Ό κ·Ήλ³µν•κ³ , ν„λ€μ λ‹¤μ–‘ν• μ»΄ν“¨ν… ν™κ²½μ— μ ν•©ν• μ μ—°μ„±κ³Ό ν¨μ¨μ„±μ„ μ κ³µν•©λ‹λ‹¤.

## DMAλ€?

![CS-OS-004-2.png](CS-OS-004-2.png)

DMAλ” Direct Memory Accessμ μ•½μλ΅, I/O λ””λ°”μ΄μ¤ λ“±μ μ¥μΉκ°€ CPUμ λ„μ›€ μ—†μ΄ λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬λ΅ μ§μ ‘ μ „μ†΅ν•  μ μκ² ν•λ” λ°©μ‹μ…λ‹λ‹¤.

DMA μ»¨νΈλ΅¤λ¬λ” I/O λ””λ°”μ΄μ¤κ°€ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” ν•λ“μ›¨μ–΄ μ¥μΉμ£ .

## DMAμ λ“±μ¥ λ°°κ²½

DMAκ°€ λ“±μ¥ν•κΈ° μ „, I/O λ””λ°”μ΄μ¤κ°€ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ•λ§λ‹¤ CPUκ°€ μΈν„°λ½νΈλ¥Ό λ°›μ•μµλ‹λ‹¤. μ΄λ¬ν• λ°μ΄ν„° μ²λ¦¬κ°€ ν¨μ¨μ μΈ κ²ƒμ²λΌ λ³΄μΌ μ μμ§€λ§, λΉλ²ν• μΈν„°λ½νΈλ” CPUμ— μ‹¬κ°ν• μ¤λ²„ν—¤λ“λ¥Ό μ•ΌκΈ°ν–μµλ‹λ‹¤.

DMAμ λ“±μ¥μΌλ΅ μ΄λ¬ν• μΈν„°λ½νΈ μ¤λ²„ν—¤λ“λ¥Ό μ¤„μ΄κ³  CPUκ°€ κΈ°λ³Έμ μΈ μ»΄ν“¨ν… μ‘μ—…μ— λ” μ§‘μ¤‘ν•  μ μλ„λ΅ λ§λ“¤μ—μµλ‹λ‹¤.

## I/Oλ€?

I/Oλ” Inputκ³Ό Outputμ„ λ»ν•λ©° μ»΄ν“¨ν„°κ°€ λ°μ΄ν„°λ¥Ό μ…/μ¶λ ¥ν•λ” λ°©λ²•μ„ λ‚νƒ€λƒ…λ‹λ‹¤. νμΌμ„ μ½κ³  μ“°λ” κ²ƒκ³Ό λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κ±°λ‚ λ°›λ” κ²ƒ λ“±μ„ ν¬ν•¨ν•©λ‹λ‹¤.

## λΉ„λ™κΈ°μ‹ I/O

λΉ„λ™κΈ°μ‹ I/Oλ” ν”„λ΅κ·Έλ¨μ΄ I/O μ‘μ—…μ„ μ”μ²­ν•κ³  κ·Έ μ‘μ—…μ΄ μ™„λ£λκΈ°λ¥Ό κΈ°λ‹¤λ¦¬μ§€ μ•κ³  μ¦‰μ‹ λ‹¤μ μ‘μ—…μΌλ΅ λ„μ–΄κ°€λ” λ°©μ‹μ…λ‹λ‹¤.

I/O μ‘μ—…μ΄ λλ‚  λ•κΉμ§€ λ‹¤λ¥Έ μ‘μ—…μ„ κ³„μ†ν•΄μ„ μ§„ν–‰ν•  μ μμ–΄ ν¨μ¨μ„±μ΄ λ†’μµλ‹λ‹¤.

## λ™κΈ°μ‹ I/O

λ™κΈ°μ‹ I/Oλ” ν”„λ΅κ·Έλ¨μ΄ I/Oλ¥Ό μ”μ²­ν•κ³  κ·Έ μ‘μ—…μ΄ μ™„λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ¦¬λ” λ°©μ‹μ…λ‹λ‹¤.

λ°μ΄ν„°μ μ…/μ¶λ ¥ μ‘μ—…μ΄ μ§„ν–‰λλ” λ™μ• ν”„λ΅κ·Έλ¨μ€ λ‹¤λ¥Έ μ‘μ—…μ„ μ§„ν–‰ν•μ§€ μ•κ³  κΈ°λ‹¤λ¦¬κΈ° λ•λ¬Έμ— κ°€μ¥ κ°„λ‹¨ν•κ³  μ§κ΄€μ μ΄μ§€λ§ ν¨μ¨μ„±μ΄ ν¬κ² λ–¨μ–΄μ§€λ” λ°©μ‹μ…λ‹λ‹¤.

## λ νΌλ°μ¤

[1] [[OSκΈ°μ΄] μΈν„°λ½νΈ μ λ€λ΅ μ΄ν•΄ν•κΈ°](https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)

[2] [IRQλ€?](https://blog.naver.com/PostView.nhn?blogId=ssoon0&logNo=60024863563)

[3] [ISRμ΄ λ­μ£ ?](https://horae.tistory.com/entry/ISR-interrupt-service-routine-%EC%9D%B4-%EB%AD%90%EC%A3%A0)

[4] [κ°λ°μλ„ μ•λ©΄ μΆ‹μ€ DMA(Direct Memory Access)](https://ksk-developer.tistory.com/40)

[5] [DMA (Cycle Stealing)](http://www.jidum.com/jidums/view.do?jidumId=470)

[6] [[λ„¤νΈμ›ν¬] λ™κΈ° I/Oμ™€ λΉ„λ™κΈ° I/Oμ λΉ„κµ](https://12bme.tistory.com/232)

[7] [[μ΄μμ²΄μ ] I/Oλ¨λΈ: λ™κΈ°, λΉ„λ™κΈ°, Blocking, Non-Blocking](https://snoop-study.tistory.com/85)

## λ©΄μ ‘ μ§λ¬Έ λ€λΉ„

Q. μΈν„°λ½νΈμ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.

A. μΈν„°λ½νΈλ” CPUκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•κ³  μμ„ λ•, μ…μ¶λ ¥ λ””λ°”μ΄μ¤ λ“±μ μ¥μΉμ—μ„ μ²λ¦¬κ°€ ν•„μ”ν• κ²½μ°μ— CPUμ—κ² μ΄λ¥Ό μ•λ ¤ μ²λ¦¬ν•  μ μλ„λ΅ ν•λ” κΈ°λ¥μ…λ‹λ‹¤.

Q. DMAμ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.

A. DMAλ” Direct Memory Accessμ μ•½μλ΅, μ…μ¶λ ¥ λ””λ°”μ΄μ¤ λ“±μ μ¥μΉκ°€ CPUμ λ„μ›€ μ—†μ΄ λ°μ΄ν„°λ¥Ό λ©”λ¨λ¦¬λ΅ μ§μ ‘ μ „μ†΅ν•  μ μκ² ν•λ” λ°©μ‹μ…λ‹λ‹¤. DMA μ»¨νΈλ΅¤λ¬λ” I/O λ””λ°”μ΄μ¤κ°€ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” ν•λ“μ›¨μ–΄ μ¥μΉμ£ .

Q. λ™κΈ°μ‹ I/Oμ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.

A. λ™κΈ°μ‹ I/Oλ” ν”„λ΅κ·Έλ¨μ΄ I/Oλ¥Ό μ”μ²­ν•κ³  κ·Έ μ‘μ—…μ΄ μ™„λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ¦¬λ” λ°©μ‹μ…λ‹λ‹¤.

Q. λΉ„λ™κΈ°μ‹ I/Oμ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.

A. λΉ„λ™κΈ°μ‹ I/Oλ” ν”„λ΅κ·Έλ¨μ΄ I/O μ‘μ—…μ„ μ”μ²­ν•κ³  κ·Έ μ‘μ—…μ΄ μ™„λ£λκΈ°λ¥Ό κΈ°λ‹¤λ¦¬μ§€ μ•κ³  μ¦‰μ‹ λ‹¤μ μ‘μ—…μΌλ΅ λ„μ–΄κ°€λ” λ°©μ‹μ…λ‹λ‹¤.

---

"50λ€μ μ¶”κµν„μ΄ 20λ€μ μ¶”κµν„μ—κ² κ°μ‚¬ν•  μ μκ²λ” ν•λ£¨ν•λ£¨ μµμ„ μ„ λ‹¤ν•΄ μ‚΄κ³ μ ν•©λ‹λ‹¤."

**_The End._**
